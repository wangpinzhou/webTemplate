webpackJsonp([7],{dl5n:function(e,t){},n9JZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{categories:{id:""},shops:{},total:10,query:{id:1,pageIndex:1,limit:8}}},methods:{getCategories:function(){var e=this;this.$http.get("https://locally.uieee.com/categories").then(function(t){e.categories=t.body,e.categories.id=e.categories.id})},getAllshops:function(e){var t=this;this.$http.get("https://locally.uieee.com/categories/"+e+"/shops/").then(function(e){t.total=e.body.length})},getShops:function(e){var t=this;this.$http.get("https://locally.uieee.com/categories/"+e+"/shops/?_page="+this.query.pageIndex+"&_limit="+this.query.limit).then(function(e){t.shops=e.body})},handleOpen:function(e,t){this.query.id=e,this.getAllshops(e),this.getShops(e)},handleClose:function(e,t){console.log(e,t),this.query.id=e,this.getAllshops(e),this.getShops(e)},handleSizeChange:function(e){this.query.limit=e,this.getShops(this.query.id)},handleCurrentChange:function(e){this.query.pageIndex=e,this.getShops(this.query.id)}},mounted:function(){this.getCategories(),this.getAllshops(1),this.getShops(1)}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h4",[e._v("说明:使用 element-ui 侧边栏及分页功能 ")]),e._v(" "),i("h4",[e._v("数据获取自 api: ")]),e._v(" "),i("h4",[e._v("获取当前的店铺分类:https://locally.uieee.com/categories/+id")]),e._v(" "),i("h4",[e._v("当前分类下的所有商铺：https://locally.uieee.com/categories/1/shops")]),e._v(" "),i("h4",[e._v("当前分类下的所有商铺的前10条接口: https://locally.uieee.com/categories/1/shops?_page=2&_limit=10;")]),e._v(" "),i("div",{staticClass:"mainout"},[i("div",{staticClass:"mainin"},[i("el-row",e._l(e.shops,function(t){return i("el-col",{key:t.id,staticStyle:{border:"1px solid #ccc"},attrs:{span:6}},[i("div",{staticStyle:{height:"300px",padding:"15px"}},[i("img",{staticStyle:{width:"100%",height:"50%"},attrs:{src:t.images[0],alt:""}}),e._v(" "),i("p",[e._v("店铺:"+e._s(t.name))]),e._v(" "),i("p",[e._v("电话:"+e._s(t.phone))]),e._v(" "),i("p",[e._v("地址:"+e._s(t.address))]),e._v(" "),i("p",[e._v("评分:"+e._s(t.score))]),e._v(" "),i("p")])])})),e._v(" "),i("div",{staticClass:"fenye"},[i("el-pagination",{attrs:{"current-page":e.query.pageIndex,"page-sizes":[4,8,12,24],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),i("div",{staticClass:"left"},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:e.handleOpen,close:e.handleClose}},[i("h3",{staticStyle:{"text-align":"center",color:"rgb(255, 208, 75)",background:"rgb(84, 92, 100)",height:"30px","line-height":"30px",display:"block"}},[e._v("店铺分类")]),e._v(" "),e._l(e.categories,function(t){return i("el-submenu",{key:t.id,attrs:{index:t.id+""}},[i("template",{slot:"title"},[i("img",{attrs:{src:t.icon,alt:"",width:"20",height:"20"}}),e._v(" "),i("span",[e._v(e._s(t.name))])])],2)})],2)],1)])},staticRenderFns:[]};var n=i("VU/8")(s,a,!1,function(e){i("dl5n")},"data-v-a7a5669c",null);t.default=n.exports}});